<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sunbeam Registration Form</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

    <style>
        td {
            padding: 4px;
        }

        .error-message {
            color: red;
            font-size: 12px;
        }

        .success-message {
            color: green;
            font-size: 12px;
        }
    </style>
</head>

<body>
    <div align="center">
        <img src="./Images/sunbeam_logo.png" alt="dac" title="PG-DAC">

        <h1>Sunbeam Registration Form</h1>

        <form id="myForm" onsubmit="return validateForm()">
            <table>
                <tr>
                    <td rowspan="20"><iframe width="560" height="315"
                            src="https://www.youtube.com/embed/02q9aAVv1NI?si=pfvOuHUD7iAhe-Sj"
                            title="YouTube video player" frameborder="0"
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                            referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe></td>
                    <td><b>Name:</b></td>
                    <td><input type="text" id="name"></td>
                </tr>
                <tr>
                    <td></td>
                    <td id="nameError" class="error-message"></td>
                </tr>

                <tr>
                    <td><b>Date of Birth:</b></td>
                    <td><input type="date" id="date"></td>
                </tr>
                <tr>
                    <td></td>
                    <td id="dateError" class="error-message"></td>
                </tr>

                <tr>
                    <td><b>Email:</b></td>
                    <td><input type="email" id="email"></td>
                </tr>
                <tr>
                    <td></td>
                    <td id="emailError" class="error-message"></td>
                </tr>

                <tr>
                    <td><b>Password:</b></td>
                    <td><input type="password" id="password"></td>
                </tr>
                <tr>
                    <td></td>
                    <td id="passwordError" class="error-message"></td>
                </tr>

                <tr>
                    <td><b>Address:</b></td>
                    <td><textarea id="address"></textarea></td>
                </tr>
                <tr>
                    <td></td>
                    <td id="addressError" class="error-message"></td>
                </tr>

                <tr>
                    <td><b>Gender:</b></td>
                    <td>
                        <input type="radio" name="gender" value="Male">Male
                        <input type="radio" name="gender" value="Female">Female
                    </td>
                </tr>
                <tr>
                    <td></td>
                    <td id="genderError" class="error-message"></td>
                </tr>

                <tr>
                    <td><b>Profile Photo:</b></td>
                    <td><input id="file" type="file" name="file"></td>
                </tr>
                <tr>
                    <td></td>
                    <td id="fileError" class="error-message"></td>

                </tr>
                <tr>
                    <td><b>Course:</b></td>
                    <td>
                        <select id="course">
                            <option value="">--Select--</option>
                            <option>PGDAC</option>
                            <option>PGDMC</option>
                            <option>PGDITISS</option>
                            <option>PGDESD</option>
                            <option>PGDBDA</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td></td>
                    <td id="courseError" class="error-message"></td>
                </tr>

                <tr>
                    <td><b>Skill Set:</b></td>
                    <td>
                        <input type="checkbox" name="skills" value="JAVA">JAVA
                        <input type="checkbox" name="skills" value="CPP">CPP
                        <input type="checkbox" name="skills" value="OS">OS
                    </td>
                </tr>
                <tr>
                    <td></td>
                    <td id="skillError" class="error-message"></td>
                </tr>

                <tr>
                    <td></td>
                    <td>
                        <button type="submit">Register</button>
                        <button type="reset">Reset</button>
                    </td>
                </tr>
            </table>
        </form>

        <div id="result"></div>
    </div>

    <script>
        function validateForm() {
            clearMessages();
            var valid = true;

            var name = document.getElementById("name").value.trim();
            var date = document.getElementById("date").value;
            var email = document.getElementById("email").value.trim();
            var password = document.getElementById("password").value;
            var address = document.getElementById("address").value.trim();
            var gender = document.querySelector('input[name="gender"]:checked');
            var file = document.getElementById('file').value.trim();
            var course = document.getElementById("course").value;
            var skills = document.querySelectorAll('input[name="skills"]:checked');


            if (name === "") {
                showError("nameError", "Name is required");
                valid = false;
            } else {
                for (var i = 0; i < name.length; i++) {
                    var ch = name.charAt(i);
                    if (!((ch >= 'A' && ch <= 'Z') || (ch >= 'a' && ch <= 'z'))) {
                        showError("nameError", "Only alphabets allowed");
                        valid = false;
                        break;
                    }
                }
                if (name.length > 10) {
                    showError("nameError", "Name must not exceed 10 characters");
                    valid = false;
                }
            }

            if (date === "") {
                showError("dateError", "Date of Birth is required");
                valid = false;
            } else {
                var dob = new Date(date);
                var today = new Date();
                if (dob >= today) {
                    showError("dateError", "Date must be in the past");
                    valid = false;
                } else {
                    var age = today.getFullYear() - dob.getFullYear();
                    var m = today.getMonth() - dob.getMonth();
                    if (m < 0 || (m === 0 && today.getDate() < dob.getDate())) {
                        age--;
                    }
                    if (age < 18) {
                        showError("dateError", "You must be at least 18 years old");
                        valid = false;
                    }
                }
            }

            if (password.length < 9) {
                showError("passwordError", "Password must be greater than 8 characters");
                valid = false;
            } else {
                var hasHash = false, hasDigit = false;
                for (var i = 0; i < password.length; i++) {
                    var ch = password.charAt(i);
                    if (ch === "#") hasHash = true;
                    if (ch >= "0" && ch <= "9") hasDigit = true;
                }
                if (!hasHash) {
                    showError("passwordError", "Password must contain #");
                    valid = false;
                }
                if (!hasDigit) {
                    showError("passwordError", "Password must contain at least one digit");
                    valid = false;
                }
            }

            if (email === "") { showError("emailError", "Email is required"); valid = false; }
            if (address === "") { showError("addressError", "Address is required"); valid = false; }
            if (!gender) { showError("genderError", "Select your gender"); valid = false; }
            if (file === '') { showError('fileError', 'Photo is required'); valid = false; }
            if (course === "") { showError("courseError", "Select a course"); valid = false; }
            if (skills.length === 0) { showError("skillError", "Select at least one skill"); valid = false; }

            if (valid) {
                document.getElementById("result").innerHTML =
                    "<p class='success-message'>Form Submitted Successfully!</p>";
            }

            return false;
        }

        function showError(id, msg) {
            document.getElementById(id).textContent = msg;
        }
        function clearMessages() {
            var errors = document.getElementsByClassName("error-message");
            for (var i = 0; i < errors.length; i++) {
                errors[i].textContent = "";
            }
            document.getElementById("result").innerHTML = "";
        }
    </script>
</body>

</html>